<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="utf-8">

    <title>Slagelse Festuge – Danmarks hyggeligste havefest</title>

    <meta name="robots" content="all">
    <meta name="author" content="Slagelse Festuge">
    <meta name="description" content="Slagelse Festuge samler byen i en uge med koncerter, aktiviteter og fællesskab. Se programmet og praktisk info her.">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="css/styles.css" rel="stylesheet" type="text/css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

</head>

<body>

<a class="visually-hidden-focusable skip-link" href="#main">Spring til indhold</a>
<a class="visually-hidden-focusable skip-link" href="#program">Spring til program</a>

<nav class="navbar navbar-expand-lg bg-dark-subtle" aria-label="Hovedmenu">
    <div class="container-fluid">
        <a class="navbar-brand" href="/" aria-label="Forside: Slagelse Festuge">Slagelse Festuge</a>

        <button class="navbar-toggler" type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent"
                aria-expanded="false"
                aria-label="Åbn/luk navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#bliv-partner">Bliv partner</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#kontakt">Kontakt os</a>
                </li>
                <li class="nav-item dropdown">
                    <a id="aboutDropdown" class="nav-link dropdown-toggle" href="#" role="button"
                       data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">
                        Om Slagelse festuge
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="aboutDropdown">
                        <li><a class="dropdown-item" href="#bestyrelse">Bestyrelsen</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#historik">Koncerter gennem 23 år</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>

<main id="main" tabindex="-1">
    <section class="container py-4">
        <header class="mb-3">
            <h1>Slagelse festuge – din, min, vores festuge</h1>
            <p class="lead">Danmarks hyggeligste havefest</p>
        </header>

        <aside aria-labelledby="billede-overskrift" class="mb-4">
            <h2 id="billede-overskrift" class="visually-hidden">Stemningsbillede</h2>
            <figure>
                <img
                        class="img-fluid w-50"
                        src="https://slagelsefestuge.dk/wp-content/uploads/DSC_8411-1-1536x967.jpg"
                        alt="Publikum danser og smiler foran scenen under Slagelse Festuge"
                        width="1536" height="967"
                        loading="lazy" decoding="async">
                <figcaption>Festglade mennesker til Slagelse Festuge.</figcaption>
            </figure>
        </aside>

        <section aria-labelledby="program-overskrift" class="mb-4">
            <h2 id="program-overskrift">Programmet byder blandt andet på:</h2>
            <ul id="program">
                <li>
                    <time datetime="2025-06-21">Lørdag 21. juni</time>:
                    Strongman-konkurrence på Nytorv – oplev imponerende styrkepræstationer midt i byen.
                </li>
                <li>
                    <time datetime="2025-06-22">Søndag 22. juni</time>:
                    Dyrernes Dag i Anlægget.
                </li>
                <li>
                    <time datetime="2025-06-23">Mandag 23. juni</time>:
                    Sankt Hans i Anlægget – nyd en hyggelig aften med bål og fællesskab.
                    <span class="badge text-bg-danger ms-2" aria-label="Arrangementet er aflyst">AFLYST</span>
                </li>
                <li>
                    <time datetime="2025-06-24">Tirsdag 24. juni</time>:
                    Nordbo-løbet – snør løbeskoene og deltag i det populære motionsløb.
                </li>
                <li>
                    <time datetime="2025-06-25">Onsdag 25. juni</time>:
                    Picnickoncert – tag tæppet med og nyd musik under åben himmel.
                </li>
                <li>
                    <time datetime="2025-06-26">Torsdag 26. juni</time>:
                    Børn &amp; Ungedag – aktiviteter og underholdning for de yngste.
                    Om aftenen er der LARM! på programmet!
                </li>
                <li>
                    <time datetime="2025-06-27">Fredag 27. juni</time>:
                    Koncerter med Sømændene, George Michael Xperience, Specktors, OMAR og JIMILIAN.
                </li>
                <li>
                    <time datetime="2025-06-28">Lørdag 28. juni</time>:
                    Afslutningskoncerter med Sko &amp; Torp, Birthe Kjær, Keen On Queen og Burhan G.
                </li>
            </ul>
        </section>

        <article aria-labelledby="om-overskrift" class="mb-4">
            <h2 id="om-overskrift">Lidt om os</h2>
            <p>
                Fra den 22. til 28. juni forvandles Slagelse til én stor festplads fyldt med musik, oplevelser og fællesskab.
                Uanset om du er til stærke mænd, søde dyr, løb, koncerter eller børneaktiviteter, er der noget for enhver smag.
            </p>
        </article>


    </section>

    <section id="kontakt" class="container py-4" aria-labelledby="kontakt-heading">
        <h2 id="kontakt-heading" class="mb-3">Kontakt os</h2>

        <div id="form-status" class="visually-hidden" aria-live="polite"></div>

        <form id="contact-form" novalidate>

            <div class="mb-3">
                <label for="name" class="form-label">Navn</label>
                <input
                        id="name" name="name" type="text" class="form-control"
                        required minlength="2" autocomplete="name"
                        aria-describedby="name-help name-error">
                <div id="name-help" class="form-text">Skriv dit fulde navn.</div>
                <p id="name-error" class="text-danger small mt-1" hidden></p>
            </div>


            <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input
                        id="email" name="email" type="email" class="form-control"
                        required autocomplete="email"
                        aria-describedby="email-help email-error">
                <div id="email-help" class="form-text">Vi kontakter dig kun vedr. din henvendelse.</div>
                <p id="email-error" class="text-danger small mt-1" hidden></p>
            </div>


            <div class="mb-3">
                <label for="phone" class="form-label">Telefon</label>
                <div class="d-flex gap-2">
                    <select id="dial-code" name="dial_code" class="form-select"
                            autocomplete="tel-country-code" aria-label="Landekode">
                        <option value="+45" selected>+45 (DK)</option>
                        <option value="+46">+46 (SE)</option>
                        <option value="+47">+47 (NO)</option>
                        <option value="+358">+358 (FI)</option>
                        <option value="+49">+49 (DE)</option>
                    </select>
                    <input
                            id="phone" name="phone" type="tel" inputmode="tel" class="form-control"
                            required autocomplete="tel-national" maxlength="20"
                            aria-describedby="phone-help phone-error">
                </div>
                <div id="phone-help" class="form-text">
                    Eksempel: 12 34 56 78 (vælg landekode til venstre).
                </div>
                <p id="phone-error" class="text-danger small mt-1" hidden></p>
            </div>


            <div class="mb-3">
                <label for="date" class="form-label">Dato for besøg/interesse</label>
                <input
                        id="date" name="date" type="date" class="form-control"
                        required aria-describedby="date-help date-error">
                <div id="date-help" class="form-text">Vælg en passende dato.</div>
                <p id="date-error" class="text-danger small mt-1" hidden></p>
            </div>


            <fieldset class="mb-3" aria-describedby="interest-help">
                <legend class="form-label">Interesser</legend>
                <div id="interest-help" class="form-text">Vælg gerne en eller flere.</div>

                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="int-music" name="interests" value="music">
                    <label class="form-check-label" for="int-music">Musik</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="int-food" name="interests" value="food">
                    <label class="form-check-label" for="int-food">Mad &amp; Street Food</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="int-workshops" name="interests" value="workshops">
                    <label class="form-check-label" for="int-workshops">Workshops</label>
                </div>
            </fieldset>


            <div class="mb-3">
                <label for="message" class="form-label">Besked</label>
                <textarea
                        id="message" name="message" class="form-control" rows="4"
                        required minlength="10" maxlength="1000"
                        aria-describedby="message-help message-error"></textarea>
                <div id="message-help" class="form-text">Kort om din henvendelse (min. 10 tegn).</div>
                <p id="message-error" class="text-danger small mt-1" hidden></p>
            </div>


            <div class="d-flex gap-2 align-items-center">
                <button type="submit" class="btn btn-primary">Send</button>
            </div>

            <noscript>
                <p class="mt-3 text-warning">JavaScript er slået fra. HTML5-validering virker stadig.</p>
            </noscript>
        </form>
    </section>
</main>

<footer class="navbar bg-body-tertiary mt-auto" aria-label="Bundmenu">
    <div class="container-fluid">
        <p class="navbar-brand m-0">Slagelse Festuge</p>
    </div>

    <a class="btn btn-primary" href="">
        <i class="bi bi-instagram"></i>
    </a>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>

    //Hvad der sker når der trykkes send:
    //JS submit funktion stopper
    //hvert felt checkes med checkValidity() (HTML5)
    //ved fejl på input, returneres en fejlbesked på det specifikke input med aria-invalid"true"

    (function () {
        const form = document.getElementById('contact-form');
        if (!form) return; //hvis der går noget galt i funktionen, returner feltet med fejl

        const statusBox = document.getElementById('form-status');
        const fields = ['name','email','phone','date','message'];

        const errorMap = {
            name: document.getElementById('name-error'),
            email: document.getElementById('email-error'),
            phone: document.getElementById('phone-error'),
            date: document.getElementById('date-error'),
            message: document.getElementById('message-error')
        };

        function setFieldError(input, msg) {
            input.setAttribute('aria-invalid','true');
            const err = errorMap[input.id];
            if (err) { err.textContent = msg; err.hidden = false; }
        }
        function clearFieldError(input) {
            input.removeAttribute('aria-invalid');
            const err = errorMap[input.id];
            if (err) { err.textContent = ''; err.hidden = true; }
        }
        function labelFor(input) {
            return form.querySelector(`label[for="${input.id}"]`)?.textContent?.trim() || 'Feltet';
        }
        function messageFor(input) {
            const v = input.validity, label = labelFor(input);
            if (v.valueMissing) return `${label} er påkrævet.`;
            if (v.typeMismatch && input.type === 'email') return `Indtast en gyldig email-adresse.`;
            if (v.tooShort) return `${label} er for kort (min. ${input.minLength} tegn).`;
            if (v.tooLong)  return `${label} er for langt (max. ${input.maxLength} tegn).`;
            if (v.patternMismatch) return `${label} matcher ikke det forventede format.`;
            return `Ugyldig værdi i ${label}.`;
        }

        form.addEventListener('input', (e) => {
            const t = e.target;
            if ((t instanceof HTMLInputElement || t instanceof HTMLTextAreaElement) && t.validity.valid) {
                clearFieldError(t);
            }
        });

        form.addEventListener('submit', (e) => {
            e.preventDefault();

            statusBox.textContent = '';
            statusBox.classList.add('visually-hidden');
            statusBox.removeAttribute('role');

            let firstInvalid = null;

            fields.forEach(id => {
                const el = document.getElementById(id);
                if (!el.checkValidity()) {
                    setFieldError(el, messageFor(el));
                    if (!firstInvalid) firstInvalid = el;
                } else {
                    clearFieldError(el);
                }
            });

            if (firstInvalid) {
                statusBox.textContent = 'Der er fejl i formularen. Ret de markerede felter.';
                statusBox.classList.remove('visually-hidden');
                statusBox.setAttribute('role','alert');
                firstInvalid.focus();
                return;
            }

            // Succes (demo); her kan I normalt sende data med fetch()
            statusBox.textContent = 'Tak for din henvendelse! Vi vender tilbage snarest.';
            statusBox.classList.remove('visually-hidden');
            statusBox.setAttribute('role','status');
            form.reset();
        });

        // Testknapper til global besked
        document.getElementById('mock-success')?.addEventListener('click', () => {
            statusBox.textContent = 'Dette er en succesbesked (test).';
            statusBox.classList.remove('visually-hidden');
            statusBox.setAttribute('role','status');
        });
        document.getElementById('mock-error')?.addEventListener('click', () => {
            statusBox.textContent = 'Dette er en kritisk fejl (test).';
            statusBox.classList.remove('visually-hidden');
            statusBox.setAttribute('role','alert');
        });
    })();
</script>

</body>
</html>